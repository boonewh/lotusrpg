{% extends "base.html" %}

{% block title %}DD10{% endblock %}

{% block content %}
    <h1 class="heading1">Community Forums</h1>
    <a href="{{ url_for('new_post') }}" class="inline-block m-12 py-2 px-4 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
        New Post
    </a>
    
    {% for post in posts %}
    <article class="container mx-auto px-6 py-6 flex items-start">
        <img class="forum-img w-16 h-16 rounded-full mr-4" src="{{ url_for('static', filename='profile_pics/' + post.author.image_file) }}" alt="Profile Picture">
        <div>
            <h1 class="text-3xl font-bold mb-1"><a href="{{ url_for('post', post_id=post.id) }}">{{ post.title }}</a></h1>
            <p class="mb-4">Posted by <a href="#">{{ post.author.username }}</a> on {{ post.date_posted.strftime('%Y-%m-%d') }}</p>
            <p class="mb-4">{{ post.content }}</p>
            <hr>
        </div>
    </article>
    {% endfor %}
{% endblock %}